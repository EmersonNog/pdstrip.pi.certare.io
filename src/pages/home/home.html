<ion-header no-border>
  <ion-navbar color="white" class="navbar">
    <ion-buttons end>
      <button
        ion-button
        icon-only
        class="btn-filtro"
        (click)="openModalFiltros()"
        title="Filtrar"
      >
        <ion-icon name="options"></ion-icon>
      </button>
    </ion-buttons>
    <ion-title text-center>
      <ion-label>Áreas</ion-label>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="content">
  <!-- Botão oculto para abrir imagens -->
  <button
    ion-button
    id="btn-show-estacionar-page-2"
    (click)="openImagensPage($event)"
    [style.display]="'none'"
  ></button>

  <!-- Mapa -->
  <ion-grid
    class="map-grid"
    no-padding
    [style.display]="selected == 'map' ? 'block' : 'none'"
  >
    <div #map id="map"></div>
  </ion-grid>

  <!-- Legenda -->
  <ion-card class="legenda-card">
    <ion-card-header>Legenda</ion-card-header>
    <ion-card-content>
      <ion-grid>
        <ion-row *ngIf="limiteEstadualAtivo === true">
          <ion-col col-3>
            <div
              class="blocoLegendaLinha"
              style="
                background-color: #ff0000;
                width: 100%;
                height: 10px;
                border-radius: 4px;
              "
            ></div>
          </ion-col>
          <ion-col col-9>Limite Estadual</ion-col>
        </ion-row>

        <ion-row *ngIf="pontosSecaoAtivos === true">
          <ion-col col-3>
            <img
              src="assets/icon/ponto_secao.png"
              style="width: 42px; height: 38px"
            />
          </ion-col>
          <ion-col col-9>Ponto de Seção</ion-col>
        </ion-row>
        <ion-row *ngIf="acidentesAtivos === true">
          <ion-col col-3>
            <img
              src="assets/icon/acidente.png"
              style="width: 32px; height: 40px"
            />
          </ion-col>
          <ion-col col-9>Acidentes</ion-col>
        </ion-row>
        <ion-row *ngIf="rotasAtivas === true">
          <ion-col col-3>
            <div
              class="blocoLegendaLinha"
              style="
                background-color: #009688;
                width: 100%;
                height: 10px;
                border-radius: 4px;
              "
            ></div>
          </ion-col>
          <ion-col col-9>Rota</ion-col>
        </ion-row>
        <!-- Mensagem discreta se nada ativo -->
        <ion-row
          *ngIf="!pontosSecaoAtivos && !acidentesAtivos && !rotasAtivas && !limiteEstadualAtivo"
          style="width: 100%; text-align: center"
        >
          <ion-col>
            <div
              style="
                color: #888;
                font-size: 14px;
                padding: 8px 0 4px 0;
                opacity: 0.85;
              "
            >
              <ion-icon
                name="eye-off"
                style="
                  font-size: 1.1em;
                  vertical-align: middle;
                  margin-right: 0.25em;
                  color: #bbb;
                "
              ></ion-icon>
              Nenhuma camada visível no momento.
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-card-content>
  </ion-card>

  <!-- Tabela de dados (oculta por padrão, exibe se for implementado) -->
  <ion-grid
    class="data-grid"
    no-padding
    [style.display]="selected == 'data' ? 'block' : 'none'"
  >
  </ion-grid>
</ion-content>
